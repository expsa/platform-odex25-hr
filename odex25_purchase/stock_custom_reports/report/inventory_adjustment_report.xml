<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <!-- Incoming Outgoing With Prices Report template -->
        <template id="inventory_adjustment_report">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    <style>
                        .page{
                        font-family: Times New Roman;;
                        }
                        table{
                        width :100%;
                        border : 1px solid black;
                        border-collapse : collapse;
                        font-size : 13pt;

                        }
                        th{
                        border : 1px solid black;
                        background-color : #a7c4f2;
                        text-align : center;
                        padding : 5px;
                        }
                        td{
                        border : 1px solid black;
                        text-align : center;
                        padding : 3px;
                        }
                        .cr_t{
                        text-align : center;
                        }

                    </style>

                    <t t-foreach="docs" t-as="o">
                        <div class="page" size="A4">
                            <center>
                                <h3>Inventory Adjustment Report</h3>
                                <table class="table table-bordered"
                                       style="border: 2px solid black;font-family:Droid Arabic Naskh">
                                    <thead>
                                        <tr>
                                            <!-- <th colspan="2" style="border:1px solid black;text-align:center">Duration</th>                         -->
                                            <th rowspan="2" style="border:1px solid black;text-align:center">Location
                                            </th>
                                            <!-- <th rowspan="2" style="border:1px solid black;text-align:center">Category</th> -->
                                            <th rowspan="2" style="border:1px solid black;text-align:center">Name</th>
                                            <th rowspan="2" style="border:1px solid black;text-align:center">Date</th>
                                            <th rowspan="2" style="border:1px solid black;text-align:center">State</th>
                                        </tr>
                                        <tr>
                                            <!-- <th style="border:1px solid black;text-align:center">From</th>
                                            <th style="border:1px solid black;text-align:center">To</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <!-- <td style="text-align:center;border:1px solid black;"><t t-esc="date_from"/></td>
                                            <td style="text-align:center;border:1px solid black;"><t t-esc="date_to"/></td> -->

                                            <td style="text-align:center;border:1px solid black;">
                                                <t t-esc="o.location_id.name"/>
                                            </td>
                                            <!-- <td style="text-align:center;border:1px solid black;"><t t-esc="o.category_id.name" /></td> -->
                                            <td style="text-align:center;border:1px solid black;">
                                                <t t-esc="o.name"/>
                                            </td>
                                            <td style="text-align:center;border:1px solid black;">
                                                <t t-esc="o.date"/>
                                            </td>
                                            <td style="text-align:center;border:1px solid black;">
                                                <t t-esc="dict(o._fields['state']._description_selection(o.env)).get(o.state)"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <br/>
                            </center>
                            <t t-set="count" t-value="1"/>
                            <table>
                                <tr>
                                    <th>#</th>
                                    <th>Product</th>
                                    <th>Theoratical Qty</th>
                                    <th>Real Qty</th>
                                    <th>Amount</th>
                                </tr>
                                <tbody>
                                    <t t-set="total" t-value="0"/>
                                    <t t-foreach="o.line_ids" t-as="line">
                                        <tr>
                                            <td>
                                                <t t-esc="count"/>
                                            </td>
                                            <td>
                                                <t t-esc="line.product_id.name"/>
                                            </td>
                                            <td>
                                                <t t-esc="line.theoretical_qty"/>
                                            </td>
                                            <td>
                                                <t t-esc="line.product_qty"/>
                                            </td>
                                            <td>
                                                <t t-esc="round(line.product_qty * line.product_id.standard_price,2)"/>
                                            </td>
                                        </tr>
                                        <t t-set="total"
                                           t-value="total + round(line.product_qty * line.product_id.standard_price,2)"/>
                                    </t>
                                    <tr>
                                        <th colspan="4">Total</th>
                                        <th>
                                            <t t-esc="round(total,2)"/>
                                        </th>
                                    </tr>
                                </tbody>
                            </table>

                            <br/>
                            <table style="width :45%;">
                                <tr>
                                    <th>
                                        Committe Header
                                    </th>
                                    <th>
                                        Committe Members
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <t t-esc="o.committe_head.name"/>
                                    </td>
                                    <td>
                                        <t t-foreach="o.committe_members" t-as="member">
                                            <p style="padding-left : 10px;padding-right : 10px;">-
                                                <t t-esc="member.name"/>
                                            </p>
                                        </t>
                                    </td>
                                </tr>
                            </table>
                            <div style="page-break-after: always;"></div>


                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>
